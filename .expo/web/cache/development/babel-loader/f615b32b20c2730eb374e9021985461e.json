{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nimport { URL, API_KEY } from \"../config/const\";\nexport var fetchMovies = function _callee(search) {\n  var response, _response;\n\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log('fetch movies', search);\n\n          if (search) {\n            _context.next = 8;\n            break;\n          }\n\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(axios.get(URL + \"movie/popular?api_key=\" + API_KEY));\n\n        case 4:\n          response = _context.sent;\n          return _context.abrupt(\"return\", _toConsumableArray(response.data.results));\n\n        case 8:\n          console.log('in else');\n          _context.next = 11;\n          return _regeneratorRuntime.awrap(axios.get(URL + \"search/movie?api_key=\" + API_KEY + \"&language=en-US&query=\" + search));\n\n        case 11:\n          _response = _context.sent;\n          return _context.abrupt(\"return\", _toConsumableArray(_response.data.results));\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var fetchCredits = function _callee2(id) {\n  var response, director, credits;\n  return _regeneratorRuntime.async(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(axios.get(URL + \"movie/\" + id + \"/credits?api_key=\" + API_KEY));\n\n        case 2:\n          response = _context2.sent;\n          console.log(response.data.crew);\n          director = response.data.crew.find(function (dir) {\n            return dir.known_for_department === 'Directing';\n          });\n          credits = response.data;\n          return _context2.abrupt(\"return\", {\n            director: director,\n            credits: credits\n          });\n\n        case 7:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Bureau/Expo/MovieApp/services/services.js"],"names":["axios","URL","API_KEY","fetchMovies","search","console","log","get","response","data","results","fetchCredits","id","crew","director","find","dir","known_for_department","credits"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,GAAR,EAAYC,OAAZ;AAEA,OAAO,IAAMC,WAAW,GAAG,iBAAOC,MAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AACvBC,UAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,MAA5B;;AADuB,cAElBA,MAFkB;AAAA;AAAA;AAAA;;AAAA;AAAA,2CAGEJ,KAAK,CAACO,GAAN,CAAaN,GAAb,8BAAyCC,OAAzC,CAHF;;AAAA;AAGfM,UAAAA,QAHe;AAAA,8DAIVA,QAAQ,CAACC,IAAT,CAAcC,OAJJ;;AAAA;AAMrBL,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AANqB;AAAA,2CAOEN,KAAK,CAACO,GAAN,CAClBN,GADkB,6BACSC,OADT,8BACyCE,MADzC,CAPF;;AAAA;AAOfI,UAAAA,SAPe;AAAA,8DAUVA,SAAQ,CAACC,IAAT,CAAcC,OAVJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB;AAcP,OAAO,IAAMC,YAAY,GAAG,kBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACDZ,KAAK,CAACO,GAAN,CAClBN,GADkB,cACNW,EADM,yBACgBV,OADhB,CADC;;AAAA;AAClBM,UAAAA,QADkB;AAIxBH,UAAAA,OAAO,CAACC,GAAR,CAAYE,QAAQ,CAACC,IAAT,CAAcI,IAA1B;AACMC,UAAAA,QALkB,GAKPN,QAAQ,CAACC,IAAT,CAAcI,IAAd,CAAmBE,IAAnB,CACb,UAACC,GAAD;AAAA,mBAASA,GAAG,CAACC,oBAAJ,KAA6B,WAAtC;AAAA,WADa,CALO;AAQhBC,UAAAA,OARgB,GAQNV,QAAQ,CAACC,IARH;AAAA,4CASf;AAAEK,YAAAA,QAAQ,EAAEA,QAAZ;AAAsBI,YAAAA,OAAO,EAAEA;AAA/B,WATe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAArB","sourcesContent":["import axios from 'axios';\r\nimport {URL,API_KEY} from '../config/const'\r\n\r\nexport const fetchMovies = async (search) => {\r\n    console.log('fetch movies', search);\r\n    if (!search) {\r\n      const response = await axios.get(`${URL}movie/popular?api_key=${API_KEY}`);\r\n      return [...response.data.results];\r\n    } else {\r\n      console.log('in else');\r\n      const response = await axios.get(\r\n        `${URL}search/movie?api_key=${API_KEY}&language=en-US&query=${search}`\r\n      );\r\n      return [...response.data.results];\r\n    }\r\n};\r\n\r\nexport const fetchCredits = async (id) => {\r\n    const response = await axios.get(\r\n      `${URL}movie/${id}/credits?api_key=${API_KEY}`\r\n    );\r\n    console.log(response.data.crew);\r\n    const director = response.data.crew.find(\r\n        (dir) => dir.known_for_department === 'Directing'\r\n      );\r\n      const credits = response.data;\r\n      return { director: director, credits: credits };\r\n}  \r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}