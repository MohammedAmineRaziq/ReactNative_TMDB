{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Card } from 'react-native-paper';\nimport { EvilIcons } from '@expo/vector-icons';\nimport Constants from 'expo-constants';\nimport axios from 'axios';\nimport Loading from \"../components/Loading\";\nimport { fetchMovies } from \"../servises/servises\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar screen = Dimensions.get('screen');\n\nvar HomeScreen = function HomeScreen(_ref) {\n  var _movies$, _movies$2, _movies$3;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      movies = _useState2[0],\n      setMovies = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchTerm = _useState4[0],\n      setSearchTerm = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      searchNow = _useState8[0],\n      setSearchNow = _useState8[1];\n\n  useEffect(function () {\n    setLoading(true);\n    fetchMovies(searchTerm, movies).then(function (data) {\n      setMovies(data);\n      setLoading(false);\n    });\n  }, [searchNow]);\n  return loading ? _jsx(Loading, {}) : _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      children: [_jsx(Image, {\n        source: {\n          uri: \"http://image.tmdb.org/t/p/w780\" + ((_movies$ = movies[0]) == null ? void 0 : _movies$.backdrop_path)\n        },\n        style: styles.banner\n      }), _jsxs(View, {\n        style: styles.bannerInfoCard,\n        children: [_jsx(Text, {\n          style: styles.bannerTitle,\n          children: (_movies$2 = movies[0]) == null ? void 0 : _movies$2.original_title.substr(0, 20)\n        }), _jsx(Text, {\n          style: styles.bannerOverview,\n          children: ((_movies$3 = movies[0]) == null ? void 0 : _movies$3.overview.substr(0, 80)) + '...'\n        })]\n      })]\n    }), _jsxs(View, {\n      children: [_jsxs(View, {\n        style: styles.inputCard,\n        children: [_jsx(TextInput, {\n          style: styles.input,\n          placeholder: 'search movies',\n          value: searchTerm,\n          onChangeText: function onChangeText(text) {\n            return setSearchTerm(text);\n          }\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            setSearchNow(!searchNow);\n          },\n          children: _jsx(EvilIcons, {\n            name: searchTerm ? 'search' : 'refresh',\n            size: 20,\n            color: \"black\",\n            style: {\n              alignSelf: 'center',\n              marginHorizontal: 20\n            }\n          })\n        })]\n      }), _jsx(View, {\n        style: styles.movieListCard,\n        children: _jsx(FlatList, {\n          data: movies,\n          numColumns: 2,\n          renderItem: function renderItem(_ref2) {\n            var item = _ref2.item,\n                index = _ref2.index;\n            return _jsx(Card, {\n              style: styles.movieCard,\n              children: _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  navigation.navigate('Movie', {\n                    movie: item\n                  });\n                },\n                children: _jsx(Image, {\n                  source: {\n                    uri: \"http://image.tmdb.org/t/p/w780\" + item.poster_path\n                  },\n                  style: {\n                    width: Constants.width,\n                    height: 200\n                  }\n                })\n              })\n            });\n          }\n        })\n      })]\n    })]\n  });\n};\n\nexport default HomeScreen;\nvar styles = StyleSheet.create({\n  banner: {\n    width: Constants.width,\n    height: 200\n  },\n  bannerInfoCard: {\n    position: 'absolute',\n    bottom: 0,\n    paddingHorizontal: 10,\n    paddingTop: 10,\n    paddingBottom: 50,\n    right: 0,\n    left: 0,\n    backgroundColor: 'rgba(21,21,21,0.5)'\n  },\n  bannerTitle: {\n    color: 'white',\n    fontSize: 16,\n    letterSpacing: 1.2\n  },\n  bannerOverview: {\n    color: 'grey'\n  },\n  container: {\n    flex: 1,\n    paddingTop: Constants.statusBarHeight,\n    backgroundColor: '#212121'\n  },\n  inputCard: {\n    position: 'absolute',\n    top: -40,\n    margin: 20,\n    left: 10,\n    right: 10,\n    flexDirection: 'row',\n    backgroundColor: 'white',\n    alignItems: 'center',\n    borderRadius: 5,\n    zIndex: 100\n  },\n  input: {\n    padding: 10,\n    flex: 1\n  },\n  movieCard: {\n    flex: 1,\n    height: 200,\n    margin: 5,\n    alignSelf: 'center',\n    overflow: 'hidden',\n    borderWidth: 5\n  },\n  movieListCard: {\n    top: screen.height * 0.05\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","Card","EvilIcons","Constants","axios","Loading","fetchMovies","screen","Dimensions","get","HomeScreen","navigation","movies","setMovies","searchTerm","setSearchTerm","loading","setLoading","searchNow","setSearchNow","then","data","styles","container","uri","backdrop_path","banner","bannerInfoCard","bannerTitle","original_title","substr","bannerOverview","overview","inputCard","input","text","alignSelf","marginHorizontal","movieListCard","item","index","movieCard","navigate","movie","poster_path","width","height","StyleSheet","create","position","bottom","paddingHorizontal","paddingTop","paddingBottom","right","left","backgroundColor","color","fontSize","letterSpacing","flex","statusBarHeight","top","margin","flexDirection","alignItems","borderRadius","zIndex","padding","overflow","borderWidth"],"sources":["C:/Etude/4IIR/S2/Devleppement Mobile/Apps/ReactNative/MovieApp/screens/HomeScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {Text,View,StyleSheet,Image,TextInput,Dimensions,FlatList,TouchableOpacity,} from 'react-native';\r\nimport { Card } from 'react-native-paper';\r\nimport { EvilIcons } from '@expo/vector-icons';\r\nimport Constants from 'expo-constants';\r\nimport axios from 'axios';\r\n\r\nimport Loading from '../components/Loading';\r\nimport {fetchMovies} from \"../servises/servises\";\r\n\r\nconst screen = Dimensions.get('screen');\r\n\r\nconst HomeScreen = ({ navigation }) => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchNow, setSearchNow] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    fetchMovies(searchTerm, movies).then((data) => {\r\n      setMovies(data);\r\n      setLoading(false);\r\n    });\r\n  }, [searchNow]);\r\n\r\n  return loading ? (\r\n    <Loading />\r\n  ) : (\r\n    <View style={styles.container}>\r\n      <View>\r\n        <Image\r\n          source={{\r\n            uri: `http://image.tmdb.org/t/p/w780${movies[0]?.backdrop_path}`,\r\n          }}\r\n          style={styles.banner}\r\n        />\r\n        <View style={styles.bannerInfoCard}>\r\n          <Text style={styles.bannerTitle}>\r\n            {movies[0]?.original_title.substr(0, 20)}\r\n          </Text>\r\n          <Text style={styles.bannerOverview}>\r\n            {movies[0]?.overview.substr(0, 80) + '...'}\r\n          </Text>\r\n        </View>\r\n      </View>\r\n\r\n      <View>\r\n        <View style={styles.inputCard}>\r\n          <TextInput\r\n            style={styles.input}\r\n            placeholder={'search movies'}\r\n            value={searchTerm}\r\n            onChangeText={(text) => setSearchTerm(text)}\r\n          />\r\n          <TouchableOpacity\r\n            onPress={() => {\r\n              setSearchNow(!searchNow);\r\n            }}>\r\n            <EvilIcons\r\n              name={searchTerm ? 'search' : 'refresh'}\r\n              size={20}\r\n              color=\"black\"\r\n              style={{ alignSelf: 'center', marginHorizontal: 20 }}\r\n            />\r\n          </TouchableOpacity>\r\n        </View>\r\n        <View style={styles.movieListCard}>\r\n          <FlatList\r\n            data={movies}\r\n            numColumns={2}\r\n            renderItem={({ item, index }) => {\r\n              return (\r\n                <Card style={styles.movieCard}>\r\n                  <TouchableOpacity\r\n                    onPress={() => {\r\n                      navigation.navigate('Movie', { movie: item });\r\n                    }}>\r\n                    <Image\r\n                      source={{\r\n                        uri: `http://image.tmdb.org/t/p/w780${item.poster_path}`,\r\n                      }}\r\n                      style={{ width: Constants.width, height: 200 }}\r\n                    />\r\n                  </TouchableOpacity>\r\n                </Card>\r\n              );\r\n            }}\r\n          />\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default HomeScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n  banner: { width: Constants.width, height: 200 },\r\n  bannerInfoCard: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    paddingHorizontal: 10,\r\n    paddingTop: 10,\r\n    paddingBottom: 50,\r\n    right: 0,\r\n    left: 0,\r\n    backgroundColor: 'rgba(21,21,21,0.5)',\r\n  },\r\n  bannerTitle: {\r\n    color: 'white',\r\n    fontSize: 16,\r\n    letterSpacing: 1.2,\r\n  },\r\n  bannerOverview: {\r\n    color: 'grey',\r\n  },\r\n  container: {\r\n    flex: 1,\r\n    paddingTop: Constants.statusBarHeight,\r\n    backgroundColor: '#212121',\r\n  },\r\n  inputCard: {\r\n    position: 'absolute',\r\n    top: -40,\r\n    margin: 20,\r\n    left: 10,\r\n    right: 10,\r\n    flexDirection: 'row',\r\n    backgroundColor: 'white',\r\n    alignItems: 'center',\r\n    borderRadius: 5,\r\n    zIndex: 100,\r\n  },\r\n  input: {\r\n    padding: 10,\r\n    flex: 1,\r\n  },\r\n  movieCard: {\r\n    flex: 1,\r\n    height: 200,\r\n    margin: 5,\r\n    alignSelf: 'center',\r\n    overflow: 'hidden',\r\n    borderWidth: 5,\r\n  },\r\n  movieListCard: {\r\n    top: screen.height * 0.05,\r\n  },\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}