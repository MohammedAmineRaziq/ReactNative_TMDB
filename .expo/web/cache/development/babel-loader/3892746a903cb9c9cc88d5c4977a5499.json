{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nimport { URL, API_KEY } from \"../config/const\";\nexport var fetchMovies = function _callee(search) {\n  var response, _response;\n\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log('fetch movies', search);\n\n          if (search) {\n            _context.next = 8;\n            break;\n          }\n\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(axios.get(URL + \"movie/popular?api_key=\" + API_KEY));\n\n        case 4:\n          response = _context.sent;\n          return _context.abrupt(\"return\", _toConsumableArray(response.data.results));\n\n        case 8:\n          console.log('in else');\n          _context.next = 11;\n          return _regeneratorRuntime.awrap(axios.get(URL + \"search/movie?api_key=\" + API_KEY + \"&language=en-US&query=\" + search));\n\n        case 11:\n          _response = _context.sent;\n          return _context.abrupt(\"return\", _toConsumableArray(_response.data.results));\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var fetchCredits = function _callee2(id) {\n  var response;\n  return _regeneratorRuntime.async(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(axios.get(URL + \"movie/\" + id + \"/credits?api_key=\" + API_KEY));\n\n        case 2:\n          response = _context2.sent;\n          console.log(response.data.crew);\n\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"names":["axios","URL","API_KEY","fetchMovies","search","console","log","get","response","data","results","fetchCredits","id","crew"],"sources":["C:/Etude/4IIR/S2/Devleppement Mobile/Apps/ReactNative/MovieApp/services/services.js"],"sourcesContent":["import axios from 'axios';\r\nimport {URL,API_KEY} from '../config/const'\r\n\r\nexport const fetchMovies = async (search) => {\r\n    console.log('fetch movies', search);\r\n    if (!search) {\r\n      const response = await axios.get(`${URL}movie/popular?api_key=${API_KEY}`);\r\n      return [...response.data.results];\r\n    } else {\r\n      console.log('in else');\r\n      const response = await axios.get(\r\n        `${URL}search/movie?api_key=${API_KEY}&language=en-US&query=${search}`\r\n      );\r\n      return [...response.data.results];\r\n    }\r\n};\r\n\r\nexport const fetchCredits = async (id) => {\r\n    const response = await axios.get(\r\n      `${URL}movie/${id}/credits?api_key=${API_KEY}`\r\n    );\r\n    console.log(response.data.crew);\r\n}  \r\n\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,GAAR,EAAYC,OAAZ;AAEA,OAAO,IAAMC,WAAW,GAAG,iBAAOC,MAAP;EAAA;;EAAA;IAAA;MAAA;QAAA;UACvBC,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,MAA5B;;UADuB,IAElBA,MAFkB;YAAA;YAAA;UAAA;;UAAA;UAAA,iCAGEJ,KAAK,CAACO,GAAN,CAAaN,GAAb,8BAAyCC,OAAzC,CAHF;;QAAA;UAGfM,QAHe;UAAA,oDAIVA,QAAQ,CAACC,IAAT,CAAcC,OAJJ;;QAAA;UAMrBL,OAAO,CAACC,GAAR,CAAY,SAAZ;UANqB;UAAA,iCAOEN,KAAK,CAACO,GAAN,CAClBN,GADkB,6BACSC,OADT,8BACyCE,MADzC,CAPF;;QAAA;UAOfI,SAPe;UAAA,oDAUVA,SAAQ,CAACC,IAAT,CAAcC,OAVJ;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAApB;AAcP,OAAO,IAAMC,YAAY,GAAG,kBAAOC,EAAP;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA,iCACDZ,KAAK,CAACO,GAAN,CAClBN,GADkB,cACNW,EADM,yBACgBV,OADhB,CADC;;QAAA;UAClBM,QADkB;UAIxBH,OAAO,CAACC,GAAR,CAAYE,QAAQ,CAACC,IAAT,CAAcI,IAA1B;;QAJwB;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAArB"},"metadata":{},"sourceType":"module"}